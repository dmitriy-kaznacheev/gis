# Алгоритмы ГИС

## Геометрические алгоритмы

### Расчет расстояний
- между двумя точками:
    - **distance_euclidean_sq** - квадрат евклидова расстояния
        $$d = (x_1-x_2)^2 + (y_1 - y_2)^2$$
    - **distance_euclidean** - евклидово расстояние
        $$d = \sqrt{(x_1-x_2)^2 + (y_1 - y_2)^2}$$
    - **distance_manheton** - манхэттенское расстояние 
        $$d = |x_1 - x_2| + |y_1 - y_2|$$
    - **distance_great_circle** - длина дуги большого круга
        $$d = 2 R \arcsin\sqrt\alpha$$
        $$\alpha = \sin^2\frac{|\phi_1-\phi_2|}{2} + \cos\phi_1\cos\phi_2\sin^2\frac{|\lambda_1-\lambda_2|}{2}$$
- от точки до прямой:
    - **distance_point2line** - от точки до прямой
        $$d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}}$$
        $$a = (y_1 - y_2)$$
        $$b = -(x_1 - x_2)$$
        $$c = y_1(x_1 - x_2)-x_1(y_1 - y_2)$$

### Расчет площади
- **area_polygon_trapezoids_signed** - площадь полигона, методом трапеций (знак показыает порядок точек)
    $$S = \frac{1}{2} \sum_{i=1}^{n}(x_{i+1} - x_i)(y_{i+1} + y_i)$$
- **area_polygon_trapezoids** - площадь полигона, методом трапеций (по модулю)

### Положение точки
- **centroid_polygon** - координта центроида полигона
    $$C.x = \frac{1}{6S} \sum_{i=1}^{n}(x_i + x_{i+1})(x_iy_{i+1} - x_{i+1}y_i)$$
    $$C.y = \frac{1}{6S} \sum_{i=1}^{n}(y_i + y_{i+1})(x_iy_{i+1} - x_{i+1}y_i)$$
- **point_relative_line** - положение точки относительно прямой, алгоритм основан на знаке площади треугольника
